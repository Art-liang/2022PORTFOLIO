!function(){function f(a){return void 0==a?-1:jQuery.isNumeric(a)?a:a.split(":").length>1?60*parseInt(a.split(":")[0],0)+parseInt(a.split(":")[1],0):a}var m=jQuery.fn.revolution,b=m.is_mobile();jQuery.extend(!0,m,{resetVideo:function(u){switch(u.data("videotype")){case"youtube":u.data("player");try{if("on"==u.data("forcerewind")&&!b){var e=f(u.data("videostartat"));e=-1==e?0:e,u.data("player").seekTo(e),u.data("player").pauseVideo()}}catch(q){}0==u.find(".tp-videoposter").length&&punchgs.TweenLite.to(u.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var a=$f(u.find("iframe").attr("id"));try{if("on"==u.data("forcerewind")&&!b){var e=f(u.data("videostartat"));e=-1==e?0:e,a.api("seekTo",e),a.api("pause")}}catch(q){}0==u.find(".tp-videoposter").length&&punchgs.TweenLite.to(u.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(b&&1==u.data("disablevideoonmobile")){return !1}var p=u.find("video"),s=p[0];if(punchgs.TweenLite.to(p,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==u.data("forcerewind")&&!u.hasClass("videoisplaying")){try{var e=f(u.data("videostartat"));s.currentTime=-1==e?0:e}catch(q){}}"mute"==u.data("volume")&&(s.muted=!0)}},stopVideo:function(q){switch(q.data("videotype")){case"youtube":try{var u=q.data("player");u.pauseVideo()}catch(n){}break;case"vimeo":try{var r=$f(q.find("iframe").attr("id"));r.api("pause")}catch(n){}break;case"html5":var s=q.find("video"),p=s[0];p.pause()}},playVideo:function(e,d){switch(clearTimeout(e.data("videoplaywait")),e.data("videotype")){case"youtube":if(0==e.find("iframe").length){e.append(e.data("videomarkup")),c(e,d,!0)}else{if(void 0!=e.data("player").playVideo){e.data("player").playVideo();var q=f(e.data("videostartat"));-1!=q&&e.data("player").seekTo(q)}else{e.data("videoplaywait",setTimeout(function(){m.playVideo(e,d)},50))}}break;case"vimeo":if(0==e.find("iframe").length){e.append(e.data("videomarkup")),c(e,d,!0)}else{if(e.hasClass("rs-apiready")){var t=e.find("iframe").attr("id"),i=$f(t);void 0==i.api("play")?e.data("videoplaywait",setTimeout(function(){m.playVideo(e,d)},50)):setTimeout(function(){i.api("play");var n=f(e.data("videostartat"));-1!=n&&i.api("seekTo",n)},510)}else{e.data("videoplaywait",setTimeout(function(){m.playVideo(e,d)},50))}}break;case"html5":if(b&&1==e.data("disablevideoonmobile")){return !1}var a=e.find("video"),x=a[0],w=a.parent();if(1!=w.data("metaloaded")){g(x,"loadedmetadata",function(n){m.resetVideo(n,d),x.play();var o=f(n.data("videostartat"));-1!=o&&(x.currentTime=o)}(e))}else{x.play();var q=f(e.data("videostartat"));-1!=q&&(x.currentTime=q)}}},isVideoPlaying:function(i,n){var d=!1;return void 0!=n.playingvideos&&jQuery.each(n.playingvideos,function(e,a){i.attr("id")==a.attr("id")&&(d=!0)}),d},prepareCoveredVideo:function(v,C,q){var w=q.find("iframe, video"),y=v.split(":")[0],u=v.split(":")[1],x=C.width/C.height,A=y/u,B=x/A*100,z=A/x*100;x>A?punchgs.TweenLite.to(w,0.001,{height:B+"%",width:"100%",top:-(B-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(w,0.001,{width:z+"%",height:"100%",left:-(z-100)/2+"%",top:"0px",position:"absolute"})},checkVideoApis:function(s,y,p){var u="https:"===location.protocol?"https":"http";if((void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(y.youtubeapineeded=!0),(void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==p.addedyt){y.youtubestarttime=jQuery.now(),p.addedyt=1;var w=document.createElement("script");w.src="https://www.youtube.com/iframe_api";var q=document.getElementsByTagName("script")[0],v=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(v=!1)}),v&&q.parentNode.insertBefore(w,q)}if((void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(y.vimeoapineeded=!0),(void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==p.addedvim){y.vimeostarttime=jQuery.now(),p.addedvim=1;var x=document.createElement("script"),q=document.getElementsByTagName("script")[0],v=!0;x.src=u+"://f.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){jQuery(this).attr("src")==u+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(v=!1)}),v&&q.parentNode.insertBefore(x,q)}return p},manageVideoLayer:function(B,D){var E=B.data("videoattributes"),C=B.data("ytid"),t=B.data("vimeoid"),H=B.data("videpreload"),G=B.data("videomp4"),d=B.data("videowebm"),e=B.data("videoogv"),A=B.data("videocontrols"),n="http",i="loop"==B.data("videoloop")?"loop":"loopandnoslidestop"==B.data("videoloop")?"loop":"",K=void 0!=G||void 0!=d?"html5":void 0!=C&&String(C).length>1?"youtube":void 0!=t&&String(t).length>1?"vimeo":"none",I="html5"==K&&0==B.find("video").length?"html5":"youtube"==K&&0==B.find("iframe").length?"youtube":"vimeo"==K&&0==B.find("iframe").length?"vimeo":"none";switch(B.data("videotype",K),I){case"html5":"controls"!=A&&(A="");var a='<video style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+i+' preload="'+H+'">';void 0!=d&&"firefox"==m.get_browser().toLowerCase()&&(a=a+'<source src="'+d+'" type="video/webm" />'),void 0!=G&&(a=a+'<source src="'+G+'" type="video/mp4" />'),void 0!=e&&(a=a+'<source src="'+e+'" type="video/ogg" />'),a+="</video>","controls"==A&&(a+='<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div></div>'),B.data("videomarkup",a),B.append(a),(b&&1==B.data("disablevideoonmobile")||m.isIE(8))&&B.find("video").remove(),B.find("video").each(function(){var r=this,o=jQuery(this);o.parent().hasClass("html5vid")||o.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>');var p=o.parent();1!=p.data("metaloaded")&&g(r,"loadedmetadata",function(s){h(s,D),m.resetVideo(s,D)}(B))});break;case"youtube":n="http","https:"===location.protocol&&(n="https"),"none"==A&&(E=E.replace("controls=1","controls=0"),-1==E.toLowerCase().indexOf("controls")&&(E+="&controls=0"));var q=f(B.data("videostartat")),F=f(B.data("videoendat"));-1!=q&&(E=E+"&start="+q),-1!=F&&(E=E+"&end="+F);var J=E.split("origin="+n+"://"),z="";J.length>1?(z=J[0]+"origin="+n+"://",self.location.href.match(/www/gi)&&!J[1].match(/www/gi)&&(z+="www."),z+=J[1]):z=E,B.data("videomarkup",'<iframe style="visible:hidden" src="'+n+"://www.youtube.com/embed/"+C+"?"+z+'" width="100%" height="100%" style="width:100%;height:100%"></iframe>');break;case"vimeo":"https:"===location.protocol&&(n="https"),B.data("videomarkup",'<iframe style="visible:hidden" src="'+n+"://player.vimeo.com/video/"+t+"?"+E+'" width="100%" height="100%" style="100%;height:100%"></iframe>')}void 0!=B.data("videoposter")&&B.data("videoposter").length>2?(0==B.find(".tp-videoposter").length&&B.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+B.data("videoposter")+'); background-size:cover;background-position:center center;"></div>'),0==B.find("iframe").length&&B.find(".tp-videoposter").click(function(){if(m.playVideo(B,D),b){if(1==B.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(B.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(B.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})):0!=B.find("iframe").length||"youtube"!=K&&"vimeo"!=K||(B.append(B.data("videomarkup")),c(B,D,!1)),"none"!=B.data("dottedoverlay")&&void 0!=B.data("dottedoverlay")&&1!=B.find(".tp-dottedoverlay").length&&B.append('<div class="tp-dottedoverlay '+B.data("dottedoverlay")+'"></div>'),B.addClass("HasListener"),1==B.data("bgvideo")&&punchgs.TweenLite.set(B.find("video, iframe"),{autoAlpha:0})}});var g=function(i,n,d){i.addEventListener?i.addEventListener(n,d,!1):i.attachEvent(n,d,!1)},j=function(n,p,d){var o={};return o.video=n,o.videotype=p,o.settings=d,o},c=function(t,o,B){var C=t.find("iframe"),z="iframe"+Math.round(100000*Math.random()+1),F=t.data("videoloop"),E="loopandnoslidestop"!=F;if(F="loop"==F||"loopandnoslidestop"==F,1==t.data("forcecover")){t.removeClass("fullscreenvideo").addClass("coverscreenvideo");var e=t.data("aspectratio");void 0!=e&&e.split(":").length>1&&m.prepareCoveredVideo(e,o,t)}if(C.attr("id",z),B&&t.data("startvideonow",!0),1!==t.data("videolistenerexist")){switch(t.data("videotype")){case"youtube":var q=new YT.Player(z,{events:{onStateChange:function(J){var d=J.target.getVideoEmbedCode(),v=jQuery("#"+d.split('id="')[1].split('"')[0]),y=v.closest(".tp-simpleresponsive"),I=v.parent(),w=v.parent().data("player");if(J.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(I.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(I.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==I.data("volume")?w.mute():(w.unMute(),w.setVolume(parseInt(I.data("volume"),0)||75)),o.videoplaying=!0,k(I,o),y.trigger("stoptimer"),o.c.trigger("revolution.slide.onvideoplay",j(w,"youtube",I.data()))}else{if(0==J.data&&F){var K=f(I.data("videostartat"));-1!=K&&w.seekTo(K),w.playVideo()}(0==J.data||2==J.data)&&"on"==I.data("showcoveronpause")&&I.find(".tp-videoposter").length>0&&(punchgs.TweenLite.to(I.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(I.find("iframe"),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=J.data&&3!=J.data&&(o.videoplaying=!1,l(I,o),y.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",j(w,"youtube",I.data()))),0==J.data&&1==I.data("nextslideatend")?(o.c.revnext(),l(I,o)):(l(I,o),o.videoplaying=!1,y.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",j(w,"youtube",I.data())))}},onReady:function(I){var u=I.target.getVideoEmbedCode(),w=jQuery("#"+u.split('id="')[1].split('"')[0]),p=w.parent(),v=p.data("videorate");p.data("videostart");if(p.addClass("rs-apiready"),void 0!=v&&I.target.setPlaybackRate(parseFloat(v)),p.find(".tp-videoposter").unbind("click"),p.find(".tp-videoposter").click(function(){b||q.playVideo()}),p.data("startvideonow")){p.data("player").playVideo();var y=f(p.data("videostartat"));-1!=y&&p.data("player").seekTo(y)}p.data("videolistenerexist",1)}}});t.data("player",q);break;case"vimeo":for(var A,s=C.attr("src"),r={},H=s,G=/([^&=]+)=([^&]*)/g;A=G.exec(H);){r[decodeURIComponent(A[1])]=decodeURIComponent(A[2])}s=void 0!=r.player_id?s.replace(r.player_id,z):s+"&player_id="+z;try{s=s.replace("api=0","api=1")}catch(a){}s+="&api=1",C.attr("src",s);var q=t.find("iframe")[0],x=(jQuery("#"+z),$f(z));x.addEvent("ready",function(){if(t.addClass("rs-apiready"),x.addEvent("play",function(){t.data("nextslidecalled",0),punchgs.TweenLite.to(t.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),o.c.trigger("revolution.slide.onvideoplay",j(x,"vimeo",t.data())),o.videoplaying=!0,k(t,o),E&&o.c.trigger("stoptimer"),"mute"==t.data("volume")?x.api("setVolume","0"):x.api("setVolume",parseInt(t.data("volume"),0)/100||0.75)}),x.addEvent("playProgress",function(p){var i=f(t.data("videoendat"));if(0!=i&&Math.abs(i-p.seconds)<0.3&&i>p.seconds&&1!=t.data("nextslidecalled")){if(F){x.api("play");var n=f(t.data("videostartat"));-1!=n&&x.api("seekTo",n)}else{1==t.data("nextslideatend")&&(t.data("nextslidecalled",1),o.c.revnext()),x.api("pause")}}}),x.addEvent("finish",function(){l(t,o),o.videoplaying=!1,o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",j(x,"vimeo",t.data())),1==t.data("nextslideatend")&&o.c.revnext()}),x.addEvent("pause",function(){t.find(".tp-videoposter").length>0&&"on"==t.data("showcoveronpause")&&(punchgs.TweenLite.to(t.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.videoplaying=!1,l(t,o),o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",j(x,"vimeo",t.data()))}),t.find(".tp-videoposter").unbind("click"),t.find(".tp-videoposter").click(function(){return b?void 0:(x.api("play"),!1)}),t.data("startvideonow")){x.api("play");var d=f(t.data("videostartat"));-1!=d&&x.api("seekTo",d)}t.data("videolistenerexist",1)})}}else{var D=f(t.data("videostartat"));switch(t.data("videotype")){case"youtube":B&&(t.data("player").playVideo(),-1!=D&&t.data("player").seekTo());break;case"vimeo":if(B){var x=$f(t.find("iframe").attr("id"));x.api("play"),-1!=D&&x.api("seekTo",D)}}}},h=function(e,t){if(b&&1==e.data("disablevideoonmobile")){return !1}var x=e.find("video"),r=x[0],A=x.parent(),z=e.data("videoloop"),a="loopandnoslidestop"!=z;if(z="loop"==z||"loopandnoslidestop"==z,A.data("metaloaded",1),void 0==x.attr("control")&&(0!=e.find(".tp-video-play-button").length||b||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?r.pause():r.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo")){if(1==e.data("forcecover")){A.addClass("fullcoveredvideo");var i=e.data("aspectratio");m.prepareCoveredVideo(i,t,e)}else{A.addClass("fullscreenvideo")}}var s=e.find(".tp-vid-play-pause")[0],q=e.find(".tp-vid-mute")[0],o=e.find(".tp-vid-full-screen")[0],C=e.find(".tp-seek-bar")[0],B=e.find(".tp-volume-bar")[0];void 0!=s&&(g(s,"click",function(){1==r.paused?r.play():r.pause()}),g(q,"click",function(){0==r.muted?(r.muted=!0,q.innerHTML="Unmute"):(r.muted=!1,q.innerHTML="Mute")}),g(o,"click",function(){r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen()}),g(C,"change",function(){var d=r.duration*(C.value/100);r.currentTime=d}),g(r,"timeupdate",function(){var u=100/r.duration*r.currentTime,d=f(e.data("videoendat")),n=r.currentTime;if(C.value=u,0!=d&&Math.abs(d-n)<=0.3&&d>n&&1!=e.data("nextslidecalled")){if(z){r.play();var p=f(e.data("videostartat"));-1!=p&&(r.currentTime=p)}else{1==e.data("nextslideatend")&&(e.data("nextslidecalled",1),t.c.revnext()),r.pause()}}}),g(C,"mousedown",function(){e.addClass("seekbardragged"),r.pause()}),g(C,"mouseup",function(){e.removeClass("seekbardragged"),r.play()}),g(B,"change",function(){r.volume=B.value})),g(r,"play",function(){e.data("nextslidecalled",0),"mute"==e.data("volume")&&(r.muted=!0),e.addClass("videoisplaying"),k(e,t),a?(t.videoplaying=!0,t.c.trigger("stoptimer"),t.c.trigger("revolution.slide.onvideoplay",j(r,"html5",e.data()))):(t.videoplaying=!1,t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",j(r,"html5",e.data()))),punchgs.TweenLite.to(e.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("video"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var d=e.find(".tp-vid-play-pause")[0],n=e.find(".tp-vid-mute")[0];void 0!=d&&(d.innerHTML="Pause"),void 0!=n&&r.muted&&(n.innerHTML="Unmute")}),g(r,"pause",function(){e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&!e.hasClass("seekbardragged")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("video"),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),e.removeClass("videoisplaying"),t.videoplaying=!1,l(e,t),t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",j(r,"html5",e.data()));var d=e.find(".tp-vid-play-pause")[0];void 0!=d&&(d.innerHTML="Play")}),g(r,"ended",function(){l(e,t),t.videoplaying=!1,l(e,t),t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",j(r,"html5",e.data())),1==e.data("nextslideatend")&&t.c.revnext(),e.removeClass("videoisplaying")})},k=function(i,d){void 0==d.playingvideos&&(d.playingvideos=new Array),i.data("stopallvideos")&&void 0!=d.playingvideos&&d.playingvideos.length>0&&(d.lastplayedvideos=jQuery.extend(!0,[],d.playingvideos),jQuery.each(d.playingvideos,function(a,n){m.stopVideo(n,d)})),d.playingvideos.push(i)},l=function(a,d){void 0!=d.playingvideos&&d.playingvideos.splice(jQuery.inArray(a,d.playingvideos),1)}}(jQuery);