!function(){var d=jQuery.fn.revolution;jQuery.extend(!0,d,{prepareCarousel:function(a,m,i){i=a.carousel.lastdirection=b(i,a.carousel.lastdirection),k(a),a.carousel.slide_offset_target=h(a),void 0==m?d.carouselToEvalPosition(a,i):j(a,i,!1)},carouselToEvalPosition:function(i,w){var u=i.carousel;w=u.lastdirection=b(w,u.lastdirection);var q="center"===u.horizontal_align?(u.wrapwidth/2-u.slide_width/2-u.slide_globaloffset)/u.slide_width:(0-u.slide_globaloffset)/u.slide_width,v=d.simp(q,i.slideamount,!1),s=v-Math.floor(v),a=0,m=-1*(Math.ceil(v)-v),p=-1*(Math.floor(v)-v);a=s>=0.3&&"left"===w||s>=0.7&&"right"===w?m:0.3>s&&"left"===w||0.7>s&&"right"===w?p:a,a="off"===u.infinity?0>v?v:q>i.slideamount-1?q-(i.slideamount-1):a:a,u.slide_offset_target=a*u.slide_width,0!==Math.abs(u.slide_offset_target)?j(i,w,!0):d.organiseCarousel(i,w)},organiseCarousel:function(v,q,B,m){q=void 0===q||"down"==q||"up"==q||null===q||jQuery.isEmptyObject(q)?"left":q;for(var A=v.carousel,y=new Array,w=A.slides.length,z="right"===A.horizontal_align?z=v.width:0,x=0;w>x;x++){var p=x*A.slide_width+A.slide_offset;"on"===A.infinity&&(p=p>A.wrapwidth-A.inneroffset&&"right"==q?A.slide_offset-(A.slides.length-x)*A.slide_width:p,p=p<0-A.inneroffset-A.slide_width&&"left"==q?p+A.maxwidth:p),y[x]=p}var u=999;A.slides&&jQuery.each(A.slides,function(s,e){var C=y[s];"on"===A.infinity&&(C=C>A.wrapwidth-A.inneroffset&&"left"===q?y[0]-(w-s)*A.slide_width:C,C=C<0-A.inneroffset-A.slide_width?"left"==q?C+A.maxwidth:"right"===q?y[w-1]+(s+1)*A.slide_width:C:C);var t=new Object;t.left=C+A.inneroffset;var l="center"===A.horizontal_align?(Math.abs(A.wrapwidth/2)-(t.left+A.slide_width/2))/A.slide_width:(A.inneroffset-t.left)/A.slide_width,o="center"===A.horizontal_align?2:1;if((B&&Math.abs(l)<u||0===l)&&(u=Math.abs(l),A.focused=s),t.width=A.slide_width,t.x=0,t.transformPerspective=1200,t.transformOrigin="50% "+A.vertical_align,"on"===A.fadeout){if("on"===A.vary_fade){t.autoAlpha=1-Math.abs(1/Math.ceil(A.maxVisibleItems/o)*l)}else{switch(A.horizontal_align){case"center":t.autoAlpha=Math.abs(l)<Math.ceil(A.maxVisibleItems/o-1)?1:1-(Math.abs(l)-Math.floor(Math.abs(l)));break;case"left":t.autoAlpha=1>l&&l>0?1-l:Math.abs(l)>A.maxVisibleItems-1?1-(Math.abs(l)-(A.maxVisibleItems-1)):1;break;case"right":t.autoAlpha=l>-1&&0>l?1-Math.abs(l):l>A.maxVisibleItems-1?1-(Math.abs(l)-(A.maxVisibleItems-1)):1}}}else{t.autoAlpha=Math.abs(l)<Math.ceil(A.maxVisibleItems/o)?1:0}if(void 0!==A.minScale&&A.minScale>0){if("on"===A.vary_scale){t.scale=1-Math.abs(A.minScale/100/Math.ceil(A.maxVisibleItems/o)*l);var D=(A.slide_width-A.slide_width*t.scale)*Math.abs(l)}else{t.scale=l>=1||-1>=l?1-A.minScale/100:(100-A.minScale*Math.abs(l))/100;var D=(A.slide_width-A.slide_width*(1-A.minScale/100))*Math.abs(l)}}void 0!==A.maxRotation&&0!=Math.abs(A.maxRotation)&&("on"===A.vary_rotation?(t.rotationY=Math.abs(A.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(A.maxVisibleItems/o)*l))*A.maxRotation),t.autoAlpha=Math.abs(t.rotationY)>90?0:t.autoAlpha):t.rotationY=l>=1||-1>=l?A.maxRotation:Math.abs(l)*A.maxRotation,t.rotationY=0>l?-1*t.rotationY:t.rotationY),t.x=-1*A.space*l,t.left=Math.floor(t.left),t.x=Math.floor(t.x),void 0!==t.scale?0>l?t.x-D:t.x+D:t.x,t.zIndex=Math.round(100-Math.abs(5*l)),t.transformStyle="flat",punchgs.TweenLite.set(e,t)}),m&&(v.c.find(".next-revslide").removeClass("next-revslide"),jQuery(A.slides[A.focused]).addClass("next-revslide"),v.c.trigger("revolution.nextslide.waiting"));A.wrapwidth/2-A.slide_offset,A.maxwidth+A.slide_offset-A.wrapwidth/2}});var c=function(l){var a=l.carousel;a.infbackup=a.infinity,a.maxVisiblebackup=a.maxVisibleItems,a.slide_globaloffset="none",a.slide_offset=0,a.wrap=l.c.find(".tp-carousel-wrapper"),a.slides=l.c.find(".tp-revslider-slidesli"),0!==a.maxRotation&&punchgs.TweenLite.set(a.wrap,{perspective:1200,transformStyle:"flat"}),void 0!==a.border_radius&&parseInt(a.border_radius,0)>0&&punchgs.TweenLite.set(l.c.find(".tp-revslider-slidesli"),{borderRadius:a.border_radius})},k=function(m){void 0===m.bw&&d.setSize(m);var e=m.carousel,l=d.getHorizontalOffset(m.c,"left"),i=d.getHorizontalOffset(m.c,"right");void 0===e.wrap&&c(m),e.slide_width="on"!==e.stretch?m.gridwidth[m.curWinRange]*m.bw:m.c.width(),e.maxwidth=m.slideamount*e.slide_width,e.maxVisiblebackup>e.slides.length+1&&(e.maxVisibleItems=e.slides.length+2),e.wrapwidth=e.maxVisibleItems*e.slide_width+(e.maxVisibleItems-1)*e.space,e.wrapwidth="auto"!=m.sliderLayout?e.wrapwidth>m.c.closest(".tp-simpleresponsive").width()?m.c.closest(".tp-simpleresponsive").width():e.wrapwidth:e.wrapwidth>m.ul.width()?m.ul.width():e.wrapwidth,e.infinity=e.wrapwidth>=e.maxwidth?"off":e.infbackup,e.wrapoffset="center"===e.horizontal_align?(m.c.width()-i-l-e.wrapwidth)/2:0,e.wrapoffset="auto"!=m.sliderLayout&&m.outernav?0:e.wrapoffset<l?l:e.wrapoffset,"right"===e.horizontal_align?punchgs.TweenLite.set(e.wrap,{left:"auto",right:e.wrapoffset+"px",width:e.wrapwidth,overflow:"hidden"}):punchgs.TweenLite.set(e.wrap,{right:"auto",left:e.wrapoffset+"px",width:e.wrapwidth,overflow:"hidden"}),e.inneroffset="right"===e.horizontal_align?e.wrapwidth-e.slide_width:0,e.realoffset=Math.abs(e.wrap.position().left),e.windhalf=jQuery(window).width()/2},b=function(l,a){return null===l||jQuery.isEmptyObject(l)?a:void 0===l?"right":l},j=function(a,p,n){var m=a.carousel;p=m.lastdirection=b(p,m.lastdirection);var i=new Object;i.from=0,i.to=m.slide_offset_target,void 0!==m.positionanim&&m.positionanim.pause(),m.positionanim=punchgs.TweenLite.to(i,1.2,{from:i.to,onUpdate:function(){m.slide_offset=m.slide_globaloffset+i.from,m.slide_offset=d.simp(m.slide_offset,m.maxwidth),d.organiseCarousel(a,p,!1,!1)},onComplete:function(){m.slide_globaloffset="off"===m.infinity?m.slide_globaloffset+m.slide_offset_target:d.simp(m.slide_globaloffset+m.slide_offset_target,m.maxwidth),m.slide_offset=d.simp(m.slide_offset,m.maxwidth),d.organiseCarousel(a,p,!1,!0);var e=jQuery(a.li[m.focused]);a.c.find(".next-revslide").removeClass("next-revslide"),n&&d.callingNewSlide(a,a.c,e.data("index"))},ease:punchgs.Expo.easeOut})},g=function(l,a){return Math.abs(l)>Math.abs(a)?l>0?l-Math.abs(Math.floor(l/a)*a):l+Math.abs(Math.floor(l/a)*a):l},f=function(n,m,p){var p,p,l=m-n,o=m-p-n;return l=g(l,p),o=g(o,p),Math.abs(l)>Math.abs(o)?o:l},h=function(l){var p=0,i=l.carousel;if(void 0!==i.positionanim&&i.positionanim.kill(),"none"==i.slide_globaloffset){i.slide_globaloffset=p="center"===i.horizontal_align?i.wrapwidth/2-i.slide_width/2:0}else{i.slide_globaloffset=i.slide_offset,i.slide_offset=0;var n=l.c.find(".processing-revslide").index(),m="center"===i.horizontal_align?(i.wrapwidth/2-i.slide_width/2-i.slide_globaloffset)/i.slide_width:(0-i.slide_globaloffset)/i.slide_width;m=d.simp(m,l.slideamount,!1),n=n>=0?n:l.c.find(".active-revslide").index(),n=n>=0?n:0,p="off"===i.infinity?m-n:-f(m,n,l.slideamount),p*=i.slide_width}return p}}(jQuery);